<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>๐ ๊ฒ์ํ</title>
    <link rel="stylesheet" href="/styles.css"/>
</head>
<body>
<h1>๐ ๊ฒ์๊ธ ๋ชฉ๋ก</h1>
<p>
    <!--  ๋ก๊ทธ์ธ ์ํ์ผ ๋๋ง ์ ๊ธ, ๋ก๊ทธ์์ ๋ฒํผ ํ์ -->
    <span th:if="${isLoggedIn}">
        <a th:href="@{/posts/add}">
            <button>โ ์ ๊ธ</button>
        </a>
        <a th:href="@{/logout}">
            <button class="cancel">๋ก๊ทธ์์</button>
        </a>
    </span>

    <!-- ๋ก๊ทธ์ธ ์ ํ ์ํ๋ฉด ๋ก๊ทธ์ธ ๋ฒํผ ํ์ -->
    <span th:if="${!isLoggedIn}">
        <a th:href="@{/login}">
            <button>๋ก๊ทธ์ธ</button>
        </a>
    </span>
</p>

<ul class="post-list">
    <li th:each="post: ${posts}">
        <div class="post">
            <h2>
                <a th:href="@{'/posts/' + ${post.id}}" th:text="${post.title}"></a>
            </h2>

            <p>
                ์์ฑ์:
                <span th:text="${post.author.username}"></span>
                |
                <span th:text="${#temporals.format(post.createdAt, 'yyyy-MM-dd HH:mm')}"></span>
            </p>
        </div>
    </li>
</ul>
</body>
</html>